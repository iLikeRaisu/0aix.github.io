<!DOCTYPE html>
<html>
<head>
	<title>LolKeep</title>
	<link type="text/css" rel="stylesheet" href="css/stylesheet.css" />
</head>
<body>
	<div id="leftbar">
		<div id="search">
			<input type="text" id="searchbox" maxlength="12" />
		</div>
		<div id="container">
			<div id="scroll">
				<div class="box" id="Aatrox">
					<div class="imgsection">
						<img class="icon" src="champions/Aatrox.png">
					</div>
					<div class="txtsection">
						<h1>Aatrox</h1>
					</div>
				</div>
				<div class="box" id="Ahri">
					<div class="imgsection">
						<img class="icon" src="champions/Ahri.png">
					</div>
					<div class="txtsection">
						<h1>Ahri</h1>
					</div>
				</div>
			</div>
		</div>
	</div>
	<main>
		
	</main>
	<script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>
	<script type="text/javascript" src="js/jquery.slimscroll.min.js"></script>
	<script type="text/javascript">
	//Load JSONs
	var champions;
	var championsList = [];
	var searchList = [];
	var selected = "";
	
	$.getJSON("json/champions.json", function(data) {
		champions = data.data;
		for (var key in champions)
			championsList.push({ "name": champions[key].name, "title": champions[key].title });
		championsList = sortByKey(championsList, "name");
		searchList = championsList;
	});
	
	function sortByKey(array, key) {
		return array.sort(function(a, b) {
			var x = a[key]; var y = b[key];
			return ((x < y) ? -1 : ((x > y) ? 1 : 0));
		});
	}
	
	//SlimScroll
	$("div#scroll").slimScroll({
		railColor: '#ffffff',
		height: '100%',
		railVisible: true,
		alwaysVisible: true
	});
	
	//Champion list
	function PopulateList() {
		var delimiter = $("#searchbox).val();
		var lim = championsList.length;
		for (int i = 0; i < lim; i++)
		{
			if(championsList[i].name.indexOf(delimiter) > -1)
				searchList.push(championsList[i].name);
		}
		
		lim = searchList.length;
		var inner = "";
		for (int i = 0; i < lim; i++)
		{
			var name = searchList[i];
			inner += '<div class="box" id="' + name + '"><div class="imgsection"><img class="icon" src="champions/' + name + '.png"></div><div class="txtsection"><h1>' + name + '</h1></div></div>';
		}
		Select(selected);
	}
	
	$("#searchbox").change(function() {
		PopulateList();
	});
	
	//...
	function ClearList() {
		searchList = [];
		//$("div#scroll).html("");
	}
	
	//Selector
	$("div.box").click(function() {
		selected = $(this).attr("id");
		Select(selected);
	});
	
	function Select(id) {
		$("div.box").css("background-color", "#FF0000");
		$("div#" + id).css("background-color", "#FFFF00");
	}
	</script>
</body>
</html>